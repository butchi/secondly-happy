<!-- 02 -->
<html>
<head>
<style>
h1 {font-size: 50px; background-color: #9999FF;}
#time {font-size: 30px;}
#daily {background-color: #3333FF;}
#hourly {background-color: #6666FF;}
#minutely {background-color: #9999FF;}
#secondly div {background-color: #CCCCFF; padding:5px; margin:5px;}
</style>
<script src="jquery-1.6.4.min.js" type="text/javascript"></script>
<script src="database01.js" type="text/javascript"></script>
<script>
var timerID;
var weeks = new Array('日','月','火','水','木','金','土');
var now;
var year; // 年
var month; // 月
var day; // 日
var week; // 曜日
var hour; // 時
var minute; // 分
var second; // 秒

var dailyInformation;
var hourlyInformation;
var minutelyInformation;

function getNowDate() {
	now = new Date();
	year = now.getYear(); // 年
	month = now.getMonth() + 1; // 月
	day = now.getDate(); // 日
	week = weeks[ now.getDay() ]; // 曜日
	hour = now.getHours(); // 時
	minute = now.getMinutes(); // 分
	second = now.getSeconds(); // 秒
	if(year < 2000) { year += 1900; }
}

window.addEventListener("load", start, false);
function start() {
	clearInterval(timerID);
	update();
	updateMinute();
	timerID = setInterval(update, 1000);
}

function update() {
	updateTime();
	var secondly_data = data_array[Math.floor( Math.random() * data_array.length )];
	if(now.getSeconds()==0) {
		updateMinute();
	}
	$('#secondly').prepend('<div class="secondly">'+secondly_data+'</div>');
}

function updateMinute() {
	minutelyInformation = minute + "分";
	$('#minutely').html('<div class="minutely">'+minutelyInformation+'</div>');
	$('#secondly').prepend($('#minutely').html());
	//minute = Math.floor(time/60);
	//var minuteEquation = equation_array[minute][Math.floor( Math.random() * equation_array[minute].length )];
	//$('#minuteCounter').html(minuteEquation);
	//$('#minuteLog').html("<div>"+minute+" = "+minuteEquation+"</div>");
}

function updateTime() {
	getNowDate();	
	$('#time').html(year + '年' + month + '月' + day + '日（' + week + '）' + hour + '時' + minute + '分' + second + '秒');
}

</script>
</head>
<body>

<h1>秒刊ハッピー</h1>
<div id="time"></div>
<div id="daily"></div>
<div id="hourly"></div>
<div id="minutely"></div>
<div id="secondly"></div>

</body>
</html>
